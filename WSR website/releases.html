<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description" content="Full Music Catalog - World Studio Records">
    <title>Full Catalog - World Studio Records</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Scripts -->
    <script src="js/script.js" defer></script>
</head>
<body>

    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- NAVIGATION -->
    <nav class="navbar" id="navbar" role="navigation" aria-label="Main navigation">
        <div class="navbar-container">
            <a href="index.html" class="navbar-logo">
                <img src="logo WSR.png" alt="WSR" class="navbar-logo-img">
                <span>WSR</span>
            </a>
            
            <ul class="navbar-menu" id="navMenu">
                <li><a href="index.html#home" class="navbar-link">Home</a></li>
                <li><a href="index.html#releases" class="navbar-link active">Releases</a></li>
                <li><a href="index.html#artists" class="navbar-link">Artists</a></li>
                <li><a href="radar.html" class="navbar-link">Radar</a></li>
                <li><a href="index.html#producers" class="navbar-link">Producers</a></li>
                <li><a href="index.html#creators" class="navbar-link">Creators</a></li>
                <li><a href="index.html#news" class="navbar-link">News</a></li>
            </ul>
            
            <div class="navbar-actions">
                <a href="index.html#submit" class="btn btn-primary btn-sm" title="Send us your demo track" aria-label="Submit your demo track">Submit Demo</a>
                <button class="profile-btn" id="profileBtn" aria-label="User profile and login" title="Login / Sign up">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                </button>
                <button class="navbar-toggle" id="navToggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main id="main-content">
        <!-- CATALOG HEADER -->
        <section class="section" id="releases">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Full Music <span class="text-gradient">Catalog</span></h2>
                    <p class="section-subtitle">Browse through our complete collection - <span id="totalTracksDisplay">57</span> tracks from world-class artists</p>
                </div>

                <!-- FILTERS -->
                <div class="card catalog-filters-card">
                    <div class="catalog-filters-wrapper">
                        <div class="catalog-filter-group catalog-search-group">
                            <label for="catalogSearchInput" class="catalog-filter-label">Search</label>
                            <input type="text" id="catalogSearchInput" class="input" placeholder="Search by title, artist...">
                        </div>
                        
                        <div class="catalog-filter-group">
                            <label for="artistFilterSelect" class="catalog-filter-label">Artist</label>
                            <select id="artistFilterSelect" class="input catalog-select" title="Filter by artist">
                                <option value="">All Artists</option>
                            </select>
                        </div>
                        
                        <div class="catalog-filter-group">
                            <label for="sortSelect" class="catalog-filter-label">Sort By</label>
                            <select id="sortSelect" class="input catalog-select" title="Sort tracks">
                                <option value="views-desc">Most Views</option>
                                <option value="views-asc">Least Views</option>
                                <option value="title-asc">Title A-Z</option>
                                <option value="title-desc">Title Z-A</option>
                                <option value="date-desc">Newest First</option>
                                <option value="date-asc">Oldest First</option>
                            </select>
                        </div>
                        
                        <button id="resetFilters" class="btn btn-secondary catalog-reset-btn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                                <path d="M21 3v5h-5"/>
                                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
                                <path d="M3 21v-5h5"/>
                            </svg>
                            Reset
                        </button>
                    </div>
                </div>

                <!-- CATALOG GRID -->
                <div id="catalogGrid" class="grid grid-auto-fit gap-6 catalog-grid">
                    <!-- Loading indicator -->
                    <div class="catalog-loading">
                        <p>Loading catalog...</p>
                    </div>
                </div>
                
                <div id="noResults" class="catalog-no-results">
                    <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="catalog-no-results-icon">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.35-4.35"/>
                    </svg>
                    <h3 class="catalog-no-results-title">No tracks found</h3>
                    <p class="catalog-no-results-text">Try adjusting your filters or search terms</p>
                </div>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer-grid">
                <!-- Brand -->
                <div class="footer-section">
                    <div class="navbar-logo">
                        <img src="logo WSR.png" alt="WSR" class="navbar-logo-img">
                        <span>WSR</span>
                    </div>
                    <p class="footer-description">From Portugal to the World.</p>
                    <div class="footer-socials">
                        <a href="#spotify" class="footer-social-link" aria-label="Spotify">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
                            </svg>
                        </a>
                        <a href="#soundcloud" class="footer-social-link" aria-label="SoundCloud">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M7 17.939h-1v-8.068c.308-.231.639-.429 1-.566v8.634zm3 0h1v-9.224c-.229.265-.443.548-.621.857l-.379-.184v8.551zm-2 0h1v-8.848c-.508-.079-.623-.05-1-.01v8.858zm-4 0h1v-7.02c-.312.458-.555.971-.692 1.535l-.308-.182v5.667zm-3-5.25c-.606.547-1 1.354-1 2.268 0 .914.394 1.721 1 2.268v-4.536zm18.879-.671c-.204-2.837-2.404-5.079-5.117-5.079-1.022 0-1.964.328-2.762.877v10.123h9.089c1.607 0 2.911-1.393 2.911-3.106 0-2.233-2.168-3.772-4.121-2.815z"/>
                            </svg>
                        </a>
                        <a href="#youtube" class="footer-social-link" aria-label="YouTube">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                        </a>
                        <a href="#instagram" class="footer-social-link" aria-label="Instagram">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                            </svg>
                        </a>
                    </div>
                </div>
                
                <!-- Music -->
                <div class="footer-section">
                    <h4>Music</h4>
                    <ul class="footer-links">
                        <li><a href="index.html#releases">Releases</a></li>
                        <li><a href="index.html#artists">Artists</a></li>
                        <li><a href="#playlists">Playlists</a></li>
                        <li><a href="#genres">Genres</a></li>
                    </ul>
                </div>
                
                <!-- Resources -->
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul class="footer-links">
                        <li><a href="index.html#producers">Producers Hub</a></li>
                        <li><a href="index.html#creators">For Creators</a></li>
                        <li><a href="index.html#submit">Submit Demo</a></li>
                        <li><a href="#community">Community</a></li>
                    </ul>
                </div>
                
                <!-- Company -->
                <div class="footer-section">
                    <h4>Company</h4>
                    <ul class="footer-links">
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                        <li><a href="#careers">Careers</a></li>
                        <li><a href="#press">Press</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p class="footer-copyright">Â© 2026 World Studio Records. All rights reserved.</p>
                <div class="footer-legal">
                    <a href="#privacy">Privacy Policy</a>
                    <a href="#terms">Terms of Service</a>
                    <a href="#cookies">Cookie Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- MUSIC PLAYER -->
    <div class="player-mini active" id="player">
        <div class="player-container">
            <div class="player-track">
                <div class="player-artwork-container">
                    <img src="https://i.ytimg.com/vi/UFynmEtoUVI/maxresdefault.jpg" alt="Now Playing" class="player-cover" id="player-cover-img">
                    <div id="youtube-embed-player"></div>
                </div>
                <div class="player-info">
                    <h4>CAHAYA</h4>
                    <p>MIRZUL</p>
                </div>
            </div>
            
            <div class="player-controls">
                <button class="player-btn" aria-label="Previous">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <polygon points="19 20 9 12 19 4 19 20"/>
                        <line x1="5" y1="19" x2="5" y2="5" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </button>
                <button class="player-btn player-btn-play" aria-label="Play">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <polygon points="5 3 19 12 5 21 5 3"/>
                    </svg>
                </button>
                <button class="player-btn" aria-label="Next">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <polygon points="5 4 15 12 5 20 5 4"/>
                        <line x1="19" y1="5" x2="19" y2="19" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </button>
            </div>
            
            <div class="player-progress-wrapper">
                <span class="player-time">1:32</span>
                <div class="player-progress">
                    <div class="player-progress-bar"></div>
                </div>
                <span class="player-time">4:20</span>
            </div>
            
            <div class="player-volume">
                <button class="player-btn" aria-label="Volume">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                        <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
                        <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Audio Player Element -->
    <audio id="audio-player" preload="metadata"></audio>
    
    <!-- JavaScript -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="js/script.js"></script>
    <script>
        // Catalog page specific functionality
        let allTracks = [];
        let filteredTracks = [];

        // Load tracks from youtube_data.json
        async function loadCatalog() {
            console.log('Loading catalog...');
            try {
                const response = await fetch('youtube_data.json');
                console.log('Response:', response);
                const data = await response.json();
                console.log('Data loaded:', data);
                allTracks = data.tracks || [];
                filteredTracks = [...allTracks];
                
                // Store globally for player
                window.fullCatalog = allTracks;
                
                console.log('Total tracks:', allTracks.length);
                
                // Populate artist filter
                const artists = [...new Set(allTracks.map(track => track.artist))].sort();
                const artistSelect = document.getElementById('artistFilterSelect');
                artists.forEach(artist => {
                    const option = document.createElement('option');
                    option.value = artist;
                    option.textContent = artist;
                    artistSelect.appendChild(option);
                });
                
                // Display all tracks initially
                sortAndDisplayTracks();
            } catch (error) {
                console.error('Error loading catalog:', error);
                const grid = document.getElementById('catalogGrid');
                grid.innerHTML = '<div class="catalog-loading"><p style="color: red;">Error loading catalog. Check console for details.</p></div>';
            }
        }

        function sortAndDisplayTracks() {
            const sortBy = document.getElementById('sortSelect').value;
            
            switch(sortBy) {
                case 'views-desc':
                    filteredTracks.sort((a, b) => b.viewsNum - a.viewsNum);
                    break;
                case 'views-asc':
                    filteredTracks.sort((a, b) => a.viewsNum - b.viewsNum);
                    break;
                case 'title-asc':
                    filteredTracks.sort((a, b) => a.title.localeCompare(b.title));
                    break;
                case 'title-desc':
                    filteredTracks.sort((a, b) => b.title.localeCompare(a.title));
                    break;
                case 'date-desc':
                    filteredTracks.sort((a, b) => new Date(b.date) - new Date(a.date));
                    break;
                case 'date-asc':
                    filteredTracks.sort((a, b) => new Date(a.date) - new Date(b.date));
                    break;
            }
            
            displayTracks();
        }

        function displayTracks() {
            console.log('Displaying tracks:', filteredTracks.length);
            const grid = document.getElementById('catalogGrid');
            const noResults = document.getElementById('noResults');
            const totalTracksDisplay = document.getElementById('totalTracksDisplay');
            
            totalTracksDisplay.textContent = filteredTracks.length;
            
            if (filteredTracks.length === 0) {
                grid.style.display = 'none';
                noResults.classList.add('active');
                return;
            }
            
            grid.style.display = 'grid';
            noResults.classList.remove('active');
            grid.innerHTML = '';
            
            filteredTracks.forEach((track, index) => {
                console.log(`Creating card for track ${index + 1}:`, track.title);
                const card = document.createElement('div');
                card.className = 'card card-catalog-detailed';
                
                const cleanTitle = track.title
                    .replace('[WSR Release]', '')
                    .replace('[WSR X NCR Release]', '')
                    .replace('[WSR x NCR Release]', '')
                    .replace('[WSR Battle]', '')
                    .trim();
                
                card.innerHTML = `
                    <div class="catalog-card-header">
                        <img src="${track.artwork}" alt="${cleanTitle}" class="catalog-card-cover">
                        <div class="catalog-card-overlay">
                            <div class="catalog-card-play">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                                    <polygon points="5 3 19 12 5 21 5 3"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="catalog-card-body">
                        <h3 class="catalog-card-title">${cleanTitle}</h3>
                        <p class="catalog-card-artist">${track.artist}</p>
                        <div class="catalog-card-meta">
                            <span class="catalog-meta-item">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 18V5l12-2v13"/>
                                    <circle cx="6" cy="18" r="3"/>
                                    <circle cx="18" cy="16" r="3"/>
                                </svg>
                                ${track.genre}
                            </span>
                            <span class="catalog-meta-item">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12 6 12 12 16 14"/>
                                </svg>
                                ${track.duration}
                            </span>
                        </div>
                        <div class="catalog-card-stats">
                            <span class="catalog-stat-item">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                                ${track.plays}
                            </span>
                            <span class="catalog-stat-item">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 18V5l12-2v13"/>
                                    <circle cx="6" cy="18" r="3"/>
                                    <circle cx="18" cy="16" r="3"/>
                                </svg>
                                ${track.bpm} BPM
                            </span>
                        </div>
                    </div>
                `;
                
                // Add click event to play button
                const playButton = card.querySelector('.catalog-card-play');
                playButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (typeof playTrack !== 'undefined' && track.videoId) {
                        console.log('ðŸŽµ Playing from catalog:', track.title);
                        // Set playlist to all tracks
                        if (typeof window.fullCatalog !== 'undefined') {
                            window.currentPlaylist = window.fullCatalog.filter(t => t.videoId);
                            window.currentTrackIndex = window.currentPlaylist.findIndex(t => t.videoId === track.videoId);
                        }
                        playTrack(track);
                    }
                });
                
                grid.appendChild(card);
            });
            
            console.log('Cards displayed successfully');
        }

        function applyFilters() {
            const searchTerm = document.getElementById('catalogSearchInput').value.toLowerCase();
            const selectedArtist = document.getElementById('artistFilterSelect').value;
            
            filteredTracks = allTracks.filter(track => {
                const matchesSearch = track.title.toLowerCase().includes(searchTerm) || 
                                     track.artist.toLowerCase().includes(searchTerm);
                const matchesArtist = !selectedArtist || track.artist === selectedArtist;
                
                return matchesSearch && matchesArtist;
            });
            
            sortAndDisplayTracks();
        }

        function resetFilters() {
            document.getElementById('catalogSearchInput').value = '';
            document.getElementById('artistFilterSelect').value = '';
            document.getElementById('sortSelect').value = 'views-desc';
            filteredTracks = [...allTracks];
            sortAndDisplayTracks();
        }

        // Event listeners
        document.getElementById('catalogSearchInput').addEventListener('input', applyFilters);
        document.getElementById('artistFilterSelect').addEventListener('change', applyFilters);
        document.getElementById('sortSelect').addEventListener('change', sortAndDisplayTracks);
        document.getElementById('resetFilters').addEventListener('click', resetFilters);

        // Load catalog on page load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', loadCatalog);
        } else {
            // DOM already loaded, execute immediately
            loadCatalog();
        }
    </script>
</body>
</html>
